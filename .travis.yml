language: node_js
node_js:
- '8'
addons:
  apt:
    packages:
    - sshpass
env:
  global:
  - secure: gOn2Xv0NnTPoJK9GP1z1tCnC//bg5domMTYQKKiGWSZeTixJTtW20/URe/9+1B9LTmlQzgm5go36jjPx3JtBJ/ve0OXpC30X0kCOiJOOHRj7itRjGoJbe4BQZpKUVK+sCFbxU+xkz9vJdQ/Edg+CXnhJ+cdKwIsiQFsmhVNbiHTz/jUzeGC/rdaP2IyXvFay0x0892W3ZgBsd98Fv5ypMs1rgCYqbCIhud4mX3hhfGn11cvURXFgf6SgAseF95l2tb1kAPn6AYs4Ck7xmfiJ7AMYdIb6I2ZBWp0YsytEBe95jkyUA8DA0zqiJgZR78IU0a+Es/ztABh0mvALlCkDKu6KzKoDZIU+c4Yd3fYbm4lN8lRRDgCaxUBuOm75lFFquhpvp1b84e3UkFZ34+Ny0eXfjc1us3nbsW11AZgtymeVeKLBRfXDjwhZVqYONNBxkivB3P2WmMq48S2FgfhnAFc0H351PDP2phha4H7hPCEwolf4VqfatSSR6O6vBy6+kg8e6rFo0dOdBQ0UtYUHmiu86LfZ9JhdlDrGefzAU4tYtzmNsaZuhiaJRNNHw9tCHRRu48nJqExHmB3hY7BLkIctgdQldpzZVYGZ41tG/wQ+fd/+ltAOJWanlFTlKzaupPBjomZxi3LarbegNAhJKJE+3QLNKvmk4fyFRbM9T3U=
  - secure: YQ3CEbSoSbjObckO26tx+vtFlSLsz61yzH/0PKbzz/6FKfst9m6JD9SR9F4gzPM5MXXxPlnrLGcGQDbPuysB5izKpfGgQ2aGd0Ox0eC+dAp5bu2WdhxfUEGL9XHDLL4HVaudzWSU5+Jgp29NRIlF+EXLxb3DJMY5ZHFh+kkVp2LHNuBtT6zyGKo2hn9vocxBFetKKquEZbxL7f1H6ZCC0rsWWmiNqF6xprdq6tlD+wqvSecwkElcxmFOGNLpy0ShCNMBt1eI1oKdR8LnBYk7k+2P/wvJsDGSL32OdeiSOd2/UHQL0i0+Lbcn6304AYBjqSrNwnEpTwbXYuvHUNKxCOoYeLKxWqkWoMM+7TZdg1gCsUeXviSjv9J6IctIsYuJ1ImKdkZzapucrJWpxAxESY7WbOTfhEog62m1GInBdY9ZprwhvvJyKip/lbk9DChFgUWdPad/nGXaYpTDT9VIW1lIWB+Z6rqLmJQSspx83R/ltGEWDj3JE7FmPneebg8HDBSCSZAdHdLY5nQTOQsU1FCiTuY8O0GZ/0G0P2FcVT8pibOg7epTfkL+RHkU5pw8wKObnrAXAhGKcF0Ie6FIAogkxGRPQFcPGPbGhmMkAu6krBDtf9fZkNrrhqa9Xod2DezTR4oHVvsnpSPwDsjvZOS+GoCSKmTWnAKTPlOrhDk=
  - secure: gMwWFGWf6QkLLUPs2H+pjhy3XKViK9wPXkvGFWnvIL0oLDIu6skuaERFsa6ec7bMOTyvaUv1YkqkvBNrhJ363+FFk7x4bpznZAL/3sZY+Ihmji0rIXSn0pKPYpobhyzadHeQ9BtfA/MVjYbGBnKEXa5AHY5eKn08o1PMIuM12Bt6J/DmbBjqZ2kH4muXhWUQ1zBbBmLXWOPh71qYmCQPx/pQ0XJp2xNtf9mGjCYEWJV05tO9L71FbKUa1E6eJanVYQwHBBXyJz2UovCZdSiVs2w63sCSjkBiuMZYZlk0Z3E4I/im7P2dgsTlXvOpJw2EmrzVFFWrEMErn2tjaH8/TuhOi9A9raw+FK3QzdUuiVxcKN5njpYslkF/NRpi6gK+kXiUkyS12zLv7q6NFvDlC7Rzd3ZTrScdhqgmJ0BBN3YyuyFxQJuYrKO/T6nFbE+8gE4xzllljbm7gEwLpO35Zg29NeR9xlgd1Fej9vIIaWD4zOkeBCJ5ulp2Um1VmSRdUVzkJlYl93144c9VSE4k32uk8OhJEK84aDlZpJpPk6PpG2FSU8zYhibzgKtk7F2CSu4RG5DyTQ0EytTZbqjS+aTELdK4IVrtU2VQDoGdnFXwoGgN8et3OXZCIoxohoDHmDuQ517wz8i0EP1t15PNKa+7MOnPUbJY3pxmgRNPJuE=
  - secure: S+8pKXU1hswZ6ErXouFe9YnGxk2+2bBMJngy1fHTzlpXAZSlaXFrArAIl4V3WZ6Mn1fLftYUJokpJxGGaNV4JaoTX6xZ5Pg/YrCY/0v/5aTaDjZb7AfIQz1fuYXwBLlRhDeRtj8zXFPPqTKAJL687BK91GgBfX1qOGKbooYFxP3ufvgM7QOtDMfXJPNIFAXVhJVoQlEhSBECJQFVr+9rMi6pRNBCsrKD5s8mkVkpQz7kXxSWchs+/9nilI2l81MEt4zUmyXDGOd5VrRkg/0KTr8t96ueP7HEBkHSYq/3j/NL8FnxQVfsD7tnkN/DEocC3GXtW4Cq0jW+/errxzfcopnylkq1BBWtHBxIkxCeign1gf1eD4ycnmppCJnaBLTNu6gRmio8rguz1tIqy5F+D9/agpoCUBONfcfAUQYachTRCOs5mCyWDH83+rsPi27V0F3jPv4DUfen2FBMjV7Ai5uiVE7juhBsm41rXxWQM6DrAHdAYiUTYwXc5D5daYxDFS2/7yD61xjPSNVVGjdkSgbDQrvSUHNCxy0F/RNJWY9XNE51kxvBAJgkwtF8oqQ/iDXizoaFMGznR0s5zrjjXEsfifXpAYHzGUcYUw0oXgsjSg7/v71mVisHV19ZgjRP4/G2rmbmEHd5CKCzqTwQoXYgT/alw7vehfsdecMwCBs=
  - secure: tYYgtHCUkmKg7Nks6dE0Tn7nGUkrFN01PfLy2Gf0NCsWaAyZpTpA72g0O3Ym89w3xQzH6oRVKIT8qyEo91n8/kDbr3xJatJxabNutSLi4nV+fT8dlRUoZ+G4FtdRS7uuugbjJOW6CRXIGjKrV0btSZ/PaQB9r+CgVRYoCjB7/dbkmrHhsbr5KOKQKH5CI3ubh500EhK5KJM7cy117oEzod3Ry573AxchN7uKfei3TVNLfZbBtsls3jecMa/MXDxucIupABew72eOGzYJmiqfN/AIDWgDvSAGYXVIO79FW03C4JF2zV9wAlxokOWoD6p4et18I344NTOvwDJJJ0Xpl44pfM1VtRy23iedAsHGGWHwSDgW7FyIziQji+fSHCbziBX2Qyo01e2SHEuPHAhOgnJwdkw1vLrmWUthqATfC+pCqle54wEoGLxkX97Ju0QCMg9I4WFBzvhW88gOSRTfkk86W4ru3K4CgZ7uE1csVT7OyPwoXWlOcTLYgZ/pH/mTSYX5D2Vcw5yUHPvmYWsamCOBjC037d2QWvPUkqBuM9CyxEO5afTx8fG0VH/yEIWac05SP8ztV06sBiOcXHF22QFaV4uglaOOCaRgYxYvglvq0hS5iHh5vbDTODefcYGqJ9rN+9WcVJA1ZmTmGKAyajjdjO7Jijrq8h9GhLuaWZ4=
install:
- npm install
before_script:
- ls -alh
- cp -r PRIVATE_open PRIVATE
- ls -alh
- npm run serve &
- sleep 5
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- sleep 3
after_success:
- ls -alh
- echo "|1|kRYjSPXegK5AQG/nDXXXH06Fi88=|lcTcYVYZsfucZrxECzkn5Ur1AKk= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBMXtTexoOC/lQ990KmhHsp1HPYs/YJTS5Zlx2U3a3l6rgeeKjY11pYxGI7mdBXgKXM0D9UcoWCVRlVET8rZcJJU=">> $HOME/.ssh/known_hosts
- sshpass -p $FTP_PASSWORD ssh $FTP_USER@$FTP_HOST -t "ls -alh; cd $TRAVISPATH; [ -d $REPOPATH ] && rm -r $REPOPATH; git clone --depth=50 --branch=master https://github.com/$REPOPATH.git $REPOPATH && cd $REPOPATH && ls -alh;"
cache:
  directories:
  - node_modules
notifications:
  slack:
    secure: EyyPNSgHnxLDi3edZV/UrepEp71a9/nDyYgmZ/sFSqnxyOX7yDo480vRGP4IhO+9N+mm/U09aw02Xw9/k9dTL/Ik9ngKnCZJ9nmd8Qg5KJ788kfjpIPrqAjbBI6evEU9rRl+/ARxtVob1Qq41sm4YgNW/kHZ0kwKWji7dMBwnJX0XpT93Kz9eg6ZBI84bK9lkyUR5JgETY2OMaEg4afBhgp+v+8jQ7hluAx9cr0tF6PNun9rEA5pXROruWwNFDKc+kQ69SGKqTVYIK3xg//yvz0u17jch6olkEyGTuzkhYaYJe2NZDG99ltrgS8sITfUz2gSBSbzTH6xe5UVF2yv//0hKIbAEuKtn+KN9PZvrzf+7jOTBkkL42DF1QVswm8SB9HBWxdo8eru5x5gxQqa9XnNNdXkiGsE+xJd6QJXTyrzqvAQHDWZYHQ6Nsmz87PFUJzG/LvwB5vlUGrxEXrvZeiTAmWCoPTH1SLX2ewY0Fzcq0oYqDaT3vyLdjdFT7ambyfM0xG6blZ8jxUmIL3c4OI6ujNa3QrIJjiB9RTHzbG+SXhDKj/fDKJ8GVirkyXZ3ewDmhzb610b37qgyrgY2+9oX94lYRJGQ8IZgdBtnp+5DvizrdbqxC+ZoCOf4J7aADnPVqsW1AZBhUoY2MnhRVyVdokhIg8ciAqIXu6MdJE=
